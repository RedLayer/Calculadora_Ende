public class ListenerBoton implements ActionListener {
		
		private String simbolo;
		
		ListenerBoton(String simbolo){
			this.simbolo=simbolo;
		}
		
		@Override
		public void actionPerformed(ActionEvent e) {

			//añadir numero o simbolo correspondiente al boton en la pantalla
			
			if(simbolo.equals("=")) {

				try {
					pantalla.setText(Double.toString(realizarOperacion()));
				} catch (ErrorDivision0 e1) {
					pantalla.setText(e1.getMessage());
				}
				
			}else {
				
				if(simbolo.equals("C")){
					pantalla.setText("");
				}else {
			
					pantalla.append(hashBotones.get(simbolo).getText());
				}
				
			}
			
		}
		
		
		
	}
	
	/**
	 * Metodo que realiza la operación con el texto en pantalla
	 * @author Rodrigo
	 */
	private double realizarOperacion() throws ErrorDivision0 {

		String[] arrayoperacion = separar();
		
		double num1 = Double.parseDouble(arrayoperacion[0]);
		double num2=0;
		

		
		if(!arrayoperacion[2].equals(" "))
			num2 = Double.parseDouble(arrayoperacion[2]);
		
		switch (arrayoperacion[1]) {
		
		case "+":
			
			return CalculadoraCLI.Sumar(num1,num2);
			
			
		case "-":
			
			return CalculadoraCLI.Restar(num1,num2);
			
			
		case "x":
			return CalculadoraCLI.Multiplicar(num1,num2);
			
		case "/":
			
			return CalculadoraCLI.Dividir(num1,num2);

			
		case "^":
			return CalculadoraCLI.Elevar(num1,num2);
			
		case "log":
			
			return CalculadoraCLI.Logaritmo(num1,num2);
			
		case "bin":
			
			return CalculadoraCLI.binario(num1);
		
		case "sqr":
			
			return CalculadoraCLI.raizCuadrada(num1);
		
		case "!":
			
			return CalculadoraCLI.factorial(num1);
		
		case "abs":

			return CalculadoraCLI.absoluto(num1);
			
		}
		
		return 0.0;
		
		
		
	}
	
	
	/**
	 * Método que separa en un array de longitud 3 el texto en pantalla
	 * @author Rodrigo
	 */
	private String[] separar() {
		
		String instruccion = pantalla.getText();
		String primnum;
		
		if(instruccion.charAt(0) == ' ')
			primnum="0";
		else {
			primnum=instruccion.substring(0,instruccion.indexOf(' ')); 
		}
		String operacion=instruccion.substring(instruccion.indexOf(' ')+1,instruccion.indexOf(' ',instruccion.indexOf(' ')+1));;
		String segnum;
		
		
		
		if(instruccion.length()==instruccion.indexOf(operacion+1)) {
			
	
			segnum=" ";
			
		}else {
			
		
			
				segnum = instruccion.substring(instruccion.indexOf(' ',instruccion.indexOf(' ')+1), instruccion.length());
			
			
		}
		
		
		String[] arrayoperacion = {primnum,operacion,segnum};
		
		return arrayoperacion;
		
	}
	
	